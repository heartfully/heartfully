<%= form_for(@registry, html: {class: 'stacked skinny ma'}) do |f| %>

  <!-- error handling  -->
  <% if @registry.errors.any? %>
     <div class="error mb">
       <strong><%= pluralize(@registry.errors.count, "error") %> prohibited
       this registry from being saved:</strong>
        <ul>
          <% @registry.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
        </ul>
     </div>
  <% end %>
  <!-- end error handling -->

  <%= render 'form_part_1', f: f unless (defined?(step) && step==3) %>

  <%= render 'form_part_2', f: f unless (defined?(step) && step==1) %>

  <% if (defined?(step) && step==1)%>
    <%= f.submit "Next \&rarr;".html_safe, name: 'next', class: 'c-button c-button--primary stretch' %>
  <% else %>
    <%= f.submit "View my registry!".html_safe, name: 'done', class: 'c-button c-button--primary stretch' %>
  <% end %>

<% end %>
